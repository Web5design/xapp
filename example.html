<!-- 
	1. Handle scrolling back and forth, autogenerate back buttons
	2. Floating toolbar at bottom
	3. handle skipping back and forth, but maintaining stack
	4. Handle "Tabs" within a page
	
	
	// TODO
	
	* Add support for tab images
	* add support for list item switch image
	* vertical center if there is an aside
	* add support for right hand button
	
	
	// header from
	http://www.cagintranet.com/archive/create-an-ios-header-bar-in-css3-and-html5/
	
	// footer from
	http://jordandobson.com/webkit_mask_iphone_nav/retina/#
 -->

<!DOCTYPE html>
<html lang="en">
<head>
	<title>Mobile Application Boilerplate</title>

	<meta name = "viewport" content = "width = device-width,maximum-scale=1.0, user-scalable = no">
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<script type="text/javascript" src="js/jquery-1.6.2.min.js"></script>
	<script type="text/javascript" src="js/jquery.template.js"></script>
	<script type="text/javascript" src="js/touch-scroll.min.js"></script>

	<link rel="stylesheet" type="text/css" href="css/xapp.css" />	

	<script type="text/javascript" src="js/xapp.js"></script>
	<script type="text/javascript" src="js/xapp-templates.js"></script>

	<script type="text/javascript">
		$(window).ready(function() { 
			// boot up the mobification!
			XAPP.boot();
		});
		
		function loadFromAjax() {
			console.log("YES");
			$.getJSON('json.html',function(json) { 
				console.log(json);
				$('#dynamic').html('<ul class="list"></ul>');
				for (var x in json.results) {
					console.log(json.results[x]);
					$('#dynamic ul').append(XAPP.TEMPLATES.list_item_image,json.results[x]);				
				}
				$('#dynamic ul.list li').unbind();
				$('#dynamic ul.list li').bind('click',function() { 
				
					alert($(this).attr('data-id'));
				});
				XAPP.gotoPage(3);			
			});
			return false;
		}
		
		function loadFromExternal() {
		
			$('#dynamic').load('external.html',function() {
				XAPP.gotoPage(3);
			});
		}
	</script>
</head>
<body>
	<div id="application">
		<header>
			<!-- 
				This is the top toolbar where the back button and title will appear.
			-->
		</header>
		<div id="pages">
			<ul>
				<li id="welcome" data-title="Home">
					<ul class="list">
						<li data-click="XAPP.nextPage();">
							<aside>
								<img src="img/img.png" width="50" height="50">
							</aside>
							<span>
								Menu
							</span>
						</li>
						<li data-click="XAPP.nextPage();">
							<aside>
								<img src="img/img.png" width="50" height="50">
							</aside>
							<span>
								Menu
							</span>
						</li>
						<li data-click="XAPP.nextPage();">
							<aside>
								<img src="img/img.png" width="50" height="50">
							</aside>
							<span>
								Menu
							</span>
						</li>
						<li data-click="loadFromExternal();">
							<aside>
								<img src="img/img.png" width="50" height="50">
							</aside>
							<span>
								Load External Page
							</span>
						</li>
						<li data-click="loadFromAjax();">
							<aside>
								<img src="img/img.png" width="50" height="50">
							</aside>
							<span>
								Load Data via AJax
							</span>
						</li>

					</ul>
				</li>
				<li id="second" data-title="Another List">
					<ul class="list">
						<li data-click="XAPP.nextPage();">
							<aside>
								<img src="img/img.png" width="50" height="50">
							</aside>
							<span>
								Menu
							</span>
						</li>
						<li data-click="XAPP.nextPage();">
							<aside>
								<img src="img/img.png" width="50" height="50">
							</aside>
							<span>
								Menu
							</span>
						</li>
						<li data-click="XAPP.nextPage();">
							<aside>
								<img src="img/img.png" width="50" height="50">
							</aside>
							<span>
								Menu
							</span>
						</li>

					</ul>
				</li>
				<li id="third" data-title="Tabs">
					<section id="tab1" data-title="Tab 1">
						<div class="padded">
							Tab 1
						</div>
					</section>
					<section id="tab2" data-title="Tab 2" data-before="alert('Changing tab!');" data-after="alert('Changed!');">
						<div class="padded">
							Tab 2
						</div>
					</section>
					<section id="tab3" data-title="Tab 3">
						<div class="padded">
							Tab 3
						</div>
					</section>
				</li>
				<li id="dynamic" data-title="External">
				</li>
			</ul>
		</div>
		<footer>
			<!--
				This is the footer bar that appears when tabs are used.
			-->
		</footer>
	</div>		
</body>
</html>